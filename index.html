<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Calculo Comisiones</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="modal-disclaimer" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-icon" style="color: #ff0000;">‚ìò</div>
            <h2>IMPORTANTE</h2>
            <p>Estos c√°lculos son una proyecci√≥n estimada y pueden variar seg√∫n los criterios de medici√≥n y las pol√≠ticas comerciales vigentes.</p>
            <button id="btn-aceptar-modal" class="btn-main">ENTENDIDO</button>
        </div>
    </div>

    <div id="btn-guia" class="floating-help">?</div>

    <div id="modal-guia" class="modal-overlay hidden">
        <div class="modal-content guia-content">
            <div class="modal-header">
                <h3>GU√çA DE C√ÅLCULO</h3>
                <span id="close-guia" class="close-btn">&times;</span>
            </div>
            <div class="guia-body">
                <h4>Efectividad y Valores</h4>
                <p>El sistema usa por defecto el <strong>65% de pago</strong>. Ahora puedes ajustarlo en "Configuraci√≥n" si tus facturas pagadas var√≠an.</p>
                <h4>Niveles</h4>
                <p>La comisi√≥n es la suma de los 5 niveles (M0 a M4).</p>
            </div>
        </div>
    </div>

    <div class="app-container">
        <header>
            <div class="brand-logo">CALCULA TUS COMISIONES</div>
            <p class="subtitle">CALCULO ESTIMADO PARA HOME & CORRETAJE</p>
        </header>

        <div class="main-card">
            <label>CANAL</label>
            <select id="select-esquema">
                <option value="STAFF">STAFF (FIJO + VARIABLE)</option>
                <option value="CORRETAJE">CORRETAJE (VIATICO + VARIABLE)</option>
            </select>

            <div class="input-grid">
                <div class="field"><label>B2B (LLAVE)</label><input type="number" id="input-B2B" placeholder="0"></div>
                <div class="field"><label>HOGAR (LLAVE)</label><input type="number" id="input-HOGAR" placeholder="0"></div>
                <div class="field"><label>POSPAGO</label><input type="number" id="input-POSPAGO" placeholder="0"></div>
                <div class="field"><label>PREPAGO</label><input type="number" id="input-PREPAGO" placeholder="0"></div>
            </div>

            <details class="advanced-settings">
                <summary>‚öôÔ∏è Configuraci√≥n de Auditor√≠a (Valores y %)</summary>
                <div class="settings-grid">
                    <div class="set-row"><span>Val. Hogar/B2B:</span><input type="number" id="val-hogar" value="140000"></div>
                    <div class="set-row"><span>% Pago Hogar:</span><input type="number" id="pct-hogar" value="65"></div>
                    <div class="set-row"><span>Val. Pospago:</span><input type="number" id="val-pos" value="75000"></div>
                    <div class="set-row"><span>% Pago Pos:</span><input type="number" id="pct-pos" value="65"></div>
                </div>
            </details>

            <button id="btn-calcular" class="btn-main">EJECUTAR C√ÅLCULO</button>
        </div>

        <details class="help-section">
            <summary>Ver Ayuda Memoria (Pol√≠ticas)</summary>
            <div id="help-content-dinamico" class="help-content"></div>
        </details>

        <div id="resultados-area" class="hidden">
            <div id="grid-detalles" class="details-container"></div>
            <div id="alert-pospago" class="info-tag hidden">‚ö†Ô∏è Pol√≠tica Staff: Tope de 3 Pospagos aplicado.</div>
            
            <div class="total-card">
                <span class="total-title">MONTO ESTIMADOüî•</span>
                <div id="display-total" class="total-value">Gs. 0</div>
                <div id="display-bono" class="sub-value"></div>
            </div>
            <button onclick="location.reload()" class="btn-reload">LIMPIAR INTERFAZ</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
